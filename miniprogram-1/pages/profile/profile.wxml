<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="user-header">
    <view class="user-info" bindtap="onAvatarTap">
      <image class="avatar" src="{{user.avatarUrl || '/assets/icons/default-avatar.png'}}" />
      <view class="user-details">
        <text class="nickname">{{user.nickName || 'ç‚¹å‡»ç™»å½•'}}</text>
        <text class="level">{{user.level}} ä¼šå‘˜</text>
      </view>
    </view>
    
    <!-- ç”¨æˆ·ç»Ÿè®¡ -->
    <view class="user-stats">
      <view class="stat-item">
        <text class="stat-number">{{user.points || 0}}</text>
        <text class="stat-label">ç§¯åˆ†</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-number">{{user.totalWorkouts || 0}}</text>
        <text class="stat-label">é”»ç‚¼æ¬¡æ•°</text>
      </view>
    </view>
  </view>

  <!-- å¿«æ·åŠŸèƒ½åŒº -->
  <view class="quick-actions">
    <view class="quick-action" bindtap="onMenuTap" data-url="/pages/bookings/my-bookings">
      <text class="action-icon">ğŸ“…</text>
      <text class="action-text">æˆ‘çš„é¢„çº¦</text>
    </view>
    <view class="quick-action" bindtap="onMenuTap" data-url="/pages/points/points-mall">
      <text class="action-icon">ğŸ</text>
      <text class="action-text">ç§¯åˆ†å•†åŸ</text>
    </view>
    <view class="quick-action" bindtap="onMenuTap" data-url="/pages/achievements/achievements">
      <text class="action-icon">ğŸ†</text>
      <text class="action-text">æˆå°±ä¸­å¿ƒ</text>
    </view>
  </view>

  <!-- èœå•åˆ—è¡¨ -->
  <view class="menu-section">
    <view class="menu-title">åŠŸèƒ½èœå•</view>
    <view class="menu-list">
      <view wx:for="{{menuItems}}" 
            wx:key="title" 
            class="menu-item" 
            bindtap="onMenuTap" 
            data-url="{{item.url}}">
        <view class="menu-content">
          <text class="menu-icon">{{item.icon}}</text>
          <view class="menu-text">
            <text class="menu-title-text">{{item.title}}</text>
            <text class="menu-desc">{{item.desc}}</text>
          </view>
        </view>
        <text class="menu-arrow">></text>
      </view>
    </view>
  </view>

  <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
  <view class="version-info">
    <text class="version-text">MobiLiF v1.0.1</text>
    <text class="copyright">Â© 2024 MobiLiF Team</text>
  </view>

  <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
  <view wx:if="{{user && user.nickName !== 'æœªç™»å½•ç”¨æˆ·' && user.nickName !== 'ç‚¹å‡»ç™»å½•'}}" 
        class="logout-section">
    <button class="logout-button" bindtap="logout">é€€å‡ºç™»å½•</button>
  </view>
</view>